% 输入测点坐标数据
data = [
    53176.027	31195.539	502.860
    53160.138	31156.298	495.718
    53152.350	31174.377	497.269
    53183.824	31117.412	499.762
    53168.054	31126.665	498.371
    53155.125	31135.627	504.035
    53145.565	31123.107	501.448
    53134.979	31133.461	495.471
    53112.545	31194.930	503.202
    53115.779	31213.217	495.044
    53112.436	31178.637	496.887
    53130.686	31191.441	497.116
    53134.022	31204.662	501.855
    53129.624	31222.765	503.052
    53124.553	31157.932	493.069
    53136.928	31176.683	495.700
    53135.226	31159.401	493.866
    53144.503	31192.540	495.711
    53150.814	31210.891	500.260
    53155.697	31230.179	499.233
    53119.514	31151.178	493.917
    53112.958	31143.014	498.749
    53140.182	31136.475	497.634
    53152.045	31143.271	499.707
    53169.425	31181.804	504.618
    53188.455	31159.806	502.567
    53190.911	31139.752	507.707
    53185.678	31130.655	507.765
    53173.068	31130.680	501.976
    53167.743	31155.286	503.537
];

% 提取坐标和高程数据
x = data(:, 1);
y = data(:, 2);
z = data(:, 3);

% 创建网格
[X, Y] = meshgrid(unique(x), unique(y));

% 计算对应网格点上的高程值
Z = griddata(x, y, z, X, Y);

% 画等高线
contour(X, Y, Z, 'LevelStep', 0.5);
title('等高线图');
xlabel('X轴坐标');
ylabel('Y轴坐标');
grid on;

% 计算面积
area = polyarea(x, y);

fprintf('区域面积: %.2f 平方米\n', area);

% 计算开挖和填方体积
reference_elevation = 496.5;
excavation_volume = sum(max(0, z - reference_elevation));
fill_volume = sum(max(0, reference_elevation - z));

fprintf('开挖体积: %.2f 立方米\n', excavation_volume);
fprintf('填方体积: %.2f 立方米\n', fill_volume);
